<?xml version="1.0" encoding="utf-8"?>
<odoo>
    
    <template id="external_layout_wave_dynamic"
              inherit_id="web.external_layout_wave"
              name="External Layout Wave - Dynamic Design">
        
        <xpath expr="//t[@t-set='header_shape_height']" position="replace">
            <t t-set="header_shape_height" t-value="str(company.report_header_height or 260)"/>
        </xpath>
        
        <xpath expr="//svg[@preserveAspectRatio='none'][@viewBox='0 0 1000 240']/path" position="attributes">
            <attribute name="t-att-fill">company.report_brand_color or company.primary_color</attribute>
            <attribute name="t-att-fill-opacity">str(company.report_header_opacity or 0.18)</attribute>
        </xpath>
        
        <xpath expr="//img[@t-if='company.logo']" position="attributes">
            <attribute name="t-attf-style">max-height: {{company.report_logo_max_height or 88}}px; width: auto;</attribute>
        </xpath>
        
        <xpath expr="//div[@t-attf-class='article o_report_layout_wave o_table_striped o_company_#{company.id}_layout {{\\'o_report_layout_background\\' if company.layout_background != \\'Blank\\' else \\'\\'}}}']" position="attributes">
            <attribute name="t-attf-style">{{report_type != 'pdf' and 'margin-top:' + header_shape_height + 'px;'}} {{ 'background-image: url(%s);' % layout_background_url if layout_background_url else ''}} --brand-color: {{company.report_brand_color or company.primary_color or '#1F6FEB'}}; --accent-color: {{company.report_accent_color or company.secondary_color or '#0B3D91'}}; --logo-height: {{company.report_logo_max_height or 88}}px; --border-radius: {{company.report_radius or 12}}px;</attribute>
            <attribute name="t-attf-class">article o_report_layout_wave o_table_striped o_company_#{company.id}_layout {{'o_report_layout_background' if company.layout_background != 'Blank' else ''}} {{'o_modern_report' if company.report_modern_style else ''}}</attribute>
        </xpath>
        
        <xpath expr="//svg[@viewBox='0 0 1000 180']/path" position="attributes">
            <attribute name="t-att-fill">company.report_accent_color or company.secondary_color or company.primary_color</attribute>
            <attribute name="t-att-fill-opacity">str(company.report_footer_opacity or 0.22)</attribute>
        </xpath>
        
    </template>
    
</odoo>